MASTER PROMPT “Liv & Elle Elite Learning System” You are my senior full-stack engineer, learning scientist, curriculum architect, and AI systems designer. Build a complete, production-ready adaptive learning web application for my two children. PRODUCT Name: Liv & Elle Learning Arcade Goal: An elite adaptive learning platform that optimizes for: Mastery Long-term retention Transfer of knowledge Motivation and love of learning The system must outperform traditional tutoring by using adaptive modeling, misconception tracking, spaced retrieval, and AI-generated personalization. USERS Two learners (no public signups): Liv — Age 7, Grade 2 level Elle — Age 5, Grade 1 level One Parent/Admin (me) with full dashboard access. Each child has: Separate login Separate progress Separate curriculum Separate AI adaptation model TECH STACK (REQUIRED) Next.js 14+ (App Router) + TypeScript TailwindCSS Framer Motion (micro-interactions) Supabase (Auth + Postgres) Vercel hosting Next.js route handlers (no separate backend) Zod for schema validation Jest or Vitest for unit tests Playwright for E2E tests GitHub Actions CI Use environment variables for all secrets. DESIGN SYSTEM (DUOLINGO-INSPIRED, ORIGINAL IP) The UI must feel like Duolingo in motion and psychology — but use entirely original assets. Visual Language Rounded corners everywhere Pill-shaped CTAs Bright, playful palette inspired by Duolingo greens + accents Large kid-friendly typography Card-based layout Soft shadows Progress bars and XP counters at top Motion Use Framer Motion for: Button squish on press Correct answer bounce + sparkle Incorrect shake + hint reveal XP animation fill Badge pop animation Level-up shine sweep Required Components Button (primary, secondary, ghost) Card Modal ProgressBar XPBadge LessonPathNode ToastFeedback RewardCelebration UI Playground page DO NOT copy Duolingo assets, icons, characters, or branding. DOMAINS Math Reading Writing Architecture (spatial reasoning) Spanish Each domain includes: Units → Lessons → Exercises → Skills LEARNING ENGINE (CORE REQUIREMENT) The system must implement: 1. Mastery Model Maintain per-skill: Probability of mastery Confidence score Attempts count Time decay factor Promotion rule: Mastery ≥ 85% Confidence threshold met At least 2 spaced checks passed Struggle rule: Accuracy < 60% OR Same misconception ≥ 3 times Trigger: Micro-lesson Targeted practice (6–10 items) Re-check Spiral model per session: 70% edge-of-learning 20% reinforcement 10% easy wins Interleave skill types. Favor retrieval over re-teaching. 2. Misconception Tracking For wrong answers: Classify error into misconception tags Examples: Math: regrouping place value operation confusion fact retrieval Reading: phoneme confusion decoding error comprehension gap Writing: capitalization punctuation structure Architecture: symmetry rotation pattern continuation Spanish: gender agreement false cognates verb tense vocab confusion Store misconception tags and use them to generate: Targeted explanation Contrast sets Parent insights dashboard SPACED REPETITION Schedule review automatically: Short-term review: 7–14 days Long-term review: 30–90 days Surprise check-ins in daily quest path Spaced reviews must test retention, not re-teach. ADAPTIVE AI CURRICULUM GENERATION Use OpenAI API (key provided). After each lesson: Store: Accuracy Response time Hints used Misconceptions Frustration signals Confidence proxy Then generate next lesson automatically. Two Modes AI Mode (preferred) If OPENAI_API_KEY exists: Generate structured JSON lesson Include skill tags Include difficulty adjustment Include explanation logic Validate with strict Zod schema. If invalid → reject → fallback. Offline Mode If no API key: Deterministic progression rules Template-based lesson creation AI Safety Age-appropriate language No personal data No unsafe advice Structured JSON only Admin approval toggle optional CONTENT SYSTEM Two sources: Golden Curriculum (seeded base progression) AI-generated adaptive lessons AI content must: Match grade level Have exactly one correct answer (unless specified) Include explanation Pass schema validation Be labeled created_by = ai GAMES (REAL PLAYABLE MINI-GAMES) At least 1 per domain: Math: Rocket Math Reading: Word Treasure Writing: Sentence Chef Architecture: Build the Bridge Spanish: Parrot Practice Each includes: Instructions screen 1–3 minute gameplay loop Question integration Reward screen XP + badge SESSION ORCHESTRATION Each session: 5–12 minutes Detect fatigue (rising time + falling accuracy) If fatigue: Shorten session Switch to easy win End with celebration Offer autonomy: Choose between 2 lesson paths TRANSFER TASKS Weekly Boss Level per domain: Mixed review New context problems Real-world mini tasks Track transfer separately from practice mastery. ASK ACE TUTOR In-app chat: Context aware (current lesson + last 10 attempts) Kid-safe tone No personal data Parent can review transcripts Parent can disable chat Must: Refuse unsafe topics Never ask location/school info Escalate sensitive issues to parent Provider-agnostic: OpenAI if key present Local rules engine fallback PARENT DASHBOARD Show: Mastery per domain Misconception heatmap Time spent Retention scores Transfer scores Streaks API usage tracking Export CSV Weekly printable report Admin toggles: Pause AI generation Approve generated lessons Regenerate lesson Disable chat COST CONTROL Cache generated lessons Use efficient model for routine generation Log token usage per child Rate limit API calls TESTING + QA (MANDATORY) Implement: Unit tests: Scoring Mastery update Spaced scheduling Curriculum generation Schema validation E2E tests: Login Complete lesson Generate next lesson Review session Export CSV Add: npm run test npm run test:e2e GitHub Actions workflow During build: Simulate user flows Anticipate runtime errors Document known issues + fixes SECURITY + PRIVACY RLS policies in Supabase Child sees only their data Parent sees all Minimal data storage No sensitive personal data Secure environment variables DATABASE REQUIREMENTS Include: Users Profiles (Liv, Elle) Domains Units Lessons Exercises Attempts Skill mastery Misconceptions Review schedule Generated content metadata Chat logs (parent viewable) XP / streaks Include migrations + seed scripts. DELIVERABLE STRUCTURE Phase 0 — Architecture Plan Phase 1 — Repo Scaffold Phase 2 — Core Engine + Curriculum Phase 3 — Games Phase 4 — Dashboard + Exports Phase 5 — AI Tutor Integration Phase 6 — Testing + CI + Optimization After each phase: Provide file tree Provide full code Provide setup instructions Provide “How to Test” checklist Do NOT skip phases. Output only one phase at a time. FINAL OUTPUT RULE Every algorithm and feature must explicitly support: Mastery Long-term retention Transfer Motivation If something does not support these four, do not include it.
